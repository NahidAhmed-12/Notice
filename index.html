<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>OneSignal Test</title>
<script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
<script>
  window.OneSignal = window.OneSignal || [];
  OneSignal.push(function() {
    OneSignal.init({
      appId: "527dee17-feec-4ffb-bfd6-6d3bb72ed984",
      notifyButton: { enable: true },
      serviceWorkerPath: "/",
      allowLocalhostAsSecureOrigin: true
    });
    OneSignal.showSlidedownPrompt();
  });
</script>
</head>
<body>
<h1>OneSignal Push Test</h1>
<button onclick="sendTest()">Send Test Notification</button>
<script>
  async function sendTest() {
    const playerId = await OneSignal.getUserId();
    if (!playerId) return alert("Not subscribed yet!");
    fetch("https://onesignal.com/api/v1/notifications", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Authorization": "Basic os_v2_app_kj664f765rh7xp6wnu53olwzqs6n7jcxyageiuuql6cb6kte7doktddbri33ulbdhtqrnszmaiewhuuwjwcgiwiktpqn3cghnnmxydq"
      },
      body: JSON.stringify({
        app_id: "527dee17-feec-4ffb-bfd6-6d3bb72ed984",
        include_player_ids: [playerId],
        contents: { en: "This is a test notification" }
      })
    }).then(res => res.json())
    .then(data => alert("Notification sent!"))
    .catch(err => alert("Failed to send"));
  }
</script>
</body>
</html>
